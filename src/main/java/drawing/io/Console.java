package drawing.io;

/**
 * Интерфейс для вывода в консоль.
 *
 * ЗАЧЕМ АБСТРАКЦИЯ ДЛЯ System.out?
 *
 * На первый взгляд это кажется over-engineering. Но посмотрите на альтернативы
 * для тестирования:
 *
 * 1) Мокировать System.out через PowerMock/Mockito
 *    - Сложно настроить
 *    - Тесты становятся хрупкими
 *    - Плохо работает с параллельными тестами
 *
 * 2) Перенаправлять System.out в ByteArrayOutputStream
 *    - Глобальное изменение, влияет на другие тесты
 *    - Нужно помнить про очистку в @AfterEach
 *    - Не потокобезопасно
 *
 * 3) Dependency Injection через интерфейс (мой выбор)
 *    - Простой интерфейс из трёх методов
 *    - TestConsole собирает вывод в StringBuilder
 *    - Никаких mock-библиотек, чистые юнит-тесты
 *    - Потокобезопасность при необходимости
 *
 * ПАТТЕРН STRATEGY
 *
 * Это классический Strategy: алгоритм вывода (куда писать) инкапсулирован
 * в отдельный объект и может быть заменён без изменения клиентского кода.
 *
 * Команды работают с Console, не зная, это System.out или StringBuilder.
 */
public interface Console {

    /**
     * Выводит текст без перевода строки.
     * Используется для промптов ("enter command: ").
     */
    void print(String message);

    /**
     * Выводит текст с переводом строки.
     * Основной метод для вывода результатов.
     */
    void println(String message);

    /**
     * Выводит ошибку (в stderr).
     * Используется для критических ошибок при старте.
     */
    void printError(String message);
}
